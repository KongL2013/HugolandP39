import{j as e}from"./game-components-m9eY2crd.js";import{r as s,i as a,X as l,c as t,G as r,e as i,C as n,a7 as d}from"./ui-vendor-CJZ17Gf4.js";import"./react-vendor-DUpYbkpg.js";const c=({dailyRewards:c,onClaimReward:o,onClose:x})=>{const[m,h]=s.useState(!1),g=null!==c.availableReward,b=c.lastClaimDate?Math.max(0,24-Math.floor((Date.now()-new Date(c.lastClaimDate).getTime())/36e5)):0;return e.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-green-900 to-emerald-900 p-4 sm:p-6 rounded-lg border border-green-500/50 max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(a,{className:"w-6 h-6 sm:w-8 sm:h-8 text-green-400"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-white font-bold text-lg sm:text-xl",children:"Daily Rewards"}),e.jsxs("p",{className:"text-green-300 text-sm",children:["Streak: ",c.currentStreak," days (Best: ",c.maxStreak,")"]})]})]}),e.jsx("button",{onClick:x,className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(l,{className:"w-5 h-5"})})]}),g&&c.availableReward&&e.jsx("div",{className:"bg-gradient-to-r from-yellow-900/50 to-orange-900/50 p-4 rounded-lg border border-yellow-500/50 mb-6",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("h3",{className:"text-yellow-400 font-bold text-lg mb-3",children:["ðŸŽ‰ Day ",c.availableReward.day," Reward Available!"]}),e.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-yellow-300",children:[e.jsx(t,{className:"w-5 h-5"}),e.jsxs("span",{className:"font-semibold",children:[c.availableReward.coins," Coins"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-purple-300",children:[e.jsx(r,{className:"w-5 h-5"}),e.jsxs("span",{className:"font-semibold",children:[c.availableReward.gems," Gems"]})]}),c.availableReward.special&&e.jsxs("div",{className:"flex items-center gap-2 text-pink-300",children:[e.jsx(i,{className:"w-5 h-5"}),e.jsx("span",{className:"font-semibold",children:c.availableReward.special})]})]}),e.jsx("button",{onClick:()=>{return e=null,s=null,a=function*(){h(!0),o()?setTimeout(()=>{h(!1),x()},2e3):h(!1)},new Promise((l,t)=>{var r=e=>{try{n(a.next(e))}catch(s){t(s)}},i=e=>{try{n(a.throw(e))}catch(s){t(s)}},n=e=>e.done?l(e.value):Promise.resolve(e.value).then(r,i);n((a=a.apply(e,s)).next())});var e,s,a},disabled:m,className:"px-6 py-3 rounded-lg font-bold transition-all "+(m?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-green-600 to-green-500 text-white hover:from-green-500 hover:to-green-400 hover:scale-105"),children:m?"Claiming...":"Claim Reward!"})]})}),!g&&b>0&&e.jsxs("div",{className:"bg-black/30 p-4 rounded-lg border border-gray-600/50 mb-6 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[e.jsx(n,{className:"w-5 h-5 text-blue-400"}),e.jsx("span",{className:"text-white font-semibold",children:"Next reward in:"})]}),e.jsxs("p",{className:"text-blue-400 font-bold text-xl",children:[b," hours"]})]}),e.jsxs("div",{className:"bg-black/30 p-4 rounded-lg",children:[e.jsxs("h3",{className:"text-white font-bold text-lg mb-4 flex items-center gap-2",children:[e.jsx(d,{className:"w-5 h-5"}),"Reward Calendar"]}),e.jsx("div",{className:"grid grid-cols-5 gap-2",children:Array.from({length:5},(s,a)=>{var l;const i=a+1,n=(e=>({day:e,coins:50+25*e,gems:5+Math.floor(e/2),special:5===e?"Legendary Chest":void 0,claimed:!1}))(i),d=c.rewardHistory.some(e=>e.day===i&&e.claimed),o=(null==(l=c.availableReward)?void 0:l.day)===i,x=i<=c.currentStreak+1;return e.jsxs("div",{className:"p-2 sm:p-3 rounded-lg border-2 text-center "+(d?"bg-green-900/50 border-green-500/50":o?"bg-yellow-900/50 border-yellow-500/50 animate-pulse":x?"bg-blue-900/50 border-blue-500/50":"bg-gray-800/50 border-gray-600/50"),children:[e.jsxs("div",{className:"text-white font-bold text-sm mb-1",children:["Day ",i]}),e.jsxs("div",{className:"text-xs space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1 text-yellow-400",children:[e.jsx(t,{className:"w-3 h-3"}),e.jsx("span",{children:n.coins})]}),e.jsxs("div",{className:"flex items-center justify-center gap-1 text-purple-400",children:[e.jsx(r,{className:"w-3 h-3"}),e.jsx("span",{children:n.gems})]}),n.special&&e.jsx("div",{className:"text-pink-400 font-bold text-xs",children:n.special})]}),d&&e.jsx("div",{className:"text-green-400 text-xs mt-1",children:"âœ“ Claimed"})]},i)})})]}),e.jsxs("div",{className:"mt-4 text-center text-xs text-gray-400",children:[e.jsx("p",{children:"Login daily to maintain your streak and earn better rewards!"}),e.jsx("p",{children:"Missing a day will reset your streak to 0."})]})]})})};export{c as DailyRewards};
