import{j as e,g as s,a as l}from"./game-components-m9eY2crd.js";import{r as t,P as a,X as r,c as n,g as i,a8 as o,a9 as c}from"./ui-vendor-CJZ17Gf4.js";import"./react-vendor-DUpYbkpg.js";const d=({weapons:d,armor:m,gems:x,onBulkSell:g,onBulkUpgrade:p,onClose:b})=>{const[h,u]=t.useState("weapons"),[j,y]=t.useState(new Set),[w,N]=t.useState("sell"),f="weapons"===h?d:m,v=f.filter(e=>j.has(e.id)),k=()=>"sell"===w?v.reduce((e,s)=>e+s.sellPrice,0):v.reduce((e,s)=>e+s.upgradeCost,0),S=()=>0!==j.size&&("upgrade"!==w||x>=k());return e.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-slate-900 p-4 sm:p-6 rounded-lg border border-gray-500/50 max-w-6xl w-full max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(a,{className:"w-6 h-6 sm:w-8 sm:h-8 text-blue-400"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-white font-bold text-lg sm:text-xl",children:"Bulk Actions"}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Manage multiple items at once"})]})]}),e.jsx("button",{onClick:b,className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(r,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex gap-2 mb-4",children:[{key:"weapons",label:"Weapons",count:d.length},{key:"armor",label:"Armor",count:m.length}].map(({key:s,label:l,count:t})=>e.jsxs("button",{onClick:()=>{u(s),y(new Set)},className:"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-semibold transition-all "+(h===s?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"),children:[l," (",t,")"]},s))}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsxs("button",{onClick:()=>N("sell"),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-semibold transition-all "+("sell"===w?"bg-red-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"),children:[e.jsx(n,{className:"w-4 h-4"}),"Bulk Sell"]}),e.jsxs("button",{onClick:()=>N("upgrade"),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-semibold transition-all "+("upgrade"===w?"bg-purple-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"),children:[e.jsx(i,{className:"w-4 h-4"}),"Bulk Upgrade"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.jsx("button",{onClick:()=>{y(new Set(f.map(e=>e.id)))},className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-500",children:"Select All"}),e.jsx("button",{onClick:()=>{y(new Set)},className:"px-3 py-1 bg-gray-600 text-white rounded text-sm hover:bg-gray-500",children:"Select None"}),["common","rare","epic","legendary","mythical"].map(l=>e.jsx("button",{onClick:()=>(e=>{const s=f.filter(s=>s.rarity===e);y(new Set(s.map(e=>e.id)))})(l),className:`px-3 py-1 rounded text-sm capitalize ${s(l)} bg-black/30 hover:bg-black/50`,children:l},l))]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 mb-6 max-h-96 overflow-y-auto",children:f.map(t=>{const a=j.has(t.id);return e.jsxs("div",{onClick:()=>(e=>{const s=new Set(j);s.has(e)?s.delete(e):s.add(e),y(s)})(t.id),className:"p-3 rounded-lg border-2 cursor-pointer transition-all "+(a?"border-blue-500 bg-blue-900/30":`${l(t.rarity)} bg-black/20 hover:bg-black/40`),children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[a?e.jsx(o,{className:"w-4 h-4 text-blue-400"}):e.jsx(c,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:`font-semibold text-sm ${s(t.rarity)}`,children:t.name})]})}),e.jsxs("div",{className:"text-xs text-gray-300 space-y-1",children:[e.jsxs("p",{children:["Level ",t.level]}),e.jsx("p",{children:"weapons"===h?`ATK: ${t.baseAtk+10*(t.level-1)}`:`DEF: ${t.baseDef+5*(t.level-1)}`}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-yellow-400",children:["Sell: ",t.sellPrice]}),e.jsxs("span",{className:"text-purple-400",children:["Up: ",t.upgradeCost]})]})]})]},t.id)})}),e.jsxs("div",{className:"bg-black/30 p-4 rounded-lg mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-white font-semibold",children:["Selected: ",j.size," items"]}),e.jsxs("p",{className:"text-gray-300 text-sm",children:["Total ","sell"===w?"value":"cost",": ",k().toLocaleString()," ","sell"===w?"coins":"gems"]})]}),e.jsx("button",{onClick:()=>{if(!S())return;const e=Array.from(j);"sell"===w?g(e,"weapons"===h?"weapon":"armor"):p(e,"weapons"===h?"weapon":"armor"),y(new Set)},disabled:!S(),className:"px-6 py-2 rounded-lg font-semibold transition-all "+(S()?"sell"===w?"bg-red-600 text-white hover:bg-red-500":"bg-purple-600 text-white hover:bg-purple-500":"bg-gray-600 text-gray-400 cursor-not-allowed"),children:"sell"===w?"Sell Selected":"Upgrade Selected"})]}),"upgrade"===w&&x<k()&&j.size>0&&e.jsxs("p",{className:"text-red-400 text-sm mt-2",children:["Not enough gems! Need ",k()-x," more gems."]})]})]})})};export{d as BulkActions};
